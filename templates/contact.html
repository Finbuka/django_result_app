{% extends 'base.html' %}{% load static %}

{% block title %}
Contact
{% endblock title %}
{% block body %}
<!-- End: Navbar Centered Links --><!-- Start: Contact Details -->
<section class="py-5 mt-5">
  <div class="container py-5">
    <div class="row">
      <div class="col-md-8 col-xl-6 text-center mx-auto">
        <h2 class="display-6 fw-bold mb-4">
          Got any <span class="underline">questions</span>?
        </h2>
        <p class="text-muted">
          Our team is always here to help. Send us a message and we'll get
          back to you shortly.
        </p>
      </div>
    </div>
    <div class="row d-flex justify-content-center">
      <div class="col-md-6">
        <div>
          <form class="p-3 p-xl-4" method="post" action="." id="contactForm">
            {% csrf_token %}
            <div class="mb-3">
              <input class="shadow form-control" type="text" id="name-1" name="subject" placeholder="Subject" />
            </div>
            <div class="mb-3">
              <textarea class="shadow form-control" id="message-1" name="message" rows="6"
                placeholder="Message"></textarea>
            </div>
            <div>
              <button class="btn btn-primary shadow d-block w-100" type="submit">
                Send
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock body %}

{% block meet_us %}

{% endblock meet_us %}
{% block extra_js %}
<script>

  const form = document.querySelector('#contactForm');

  // $(document).on("submit","#contactForm", function(e){
  //   e.preventDefault()

  //   $.ajax({
  //     type:form.method,
  //     url:form.action,
  //     data: new FormData(form),
  //     success: function(data){console.log("ebuk",data)}
  //   })
  // })

form.addEventListener('submit', function(event) {
  event.preventDefault(); // Prevent the form from submitting normally

  fetch(form.action, {  
    method: form.method,
    body: new FormData(form)
  }).then(response => {return response.json();}).catch(error => {
    console.error("error",error);
  });
});
</script>
{% endblock extra_js %}
